"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},_createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();!function(t){var e=(t.isNode,t.realm);e.module("realm.riot.AngularExpressionParser",[],function(){function t(){}function e(t,e){var n;for(n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function n(t){return"undefined"!=typeof t}function i(t){return function(){return t}}function r(t,e,n,i,r){var s=arguments;throw e=e.replace(/{(\d)}/g,function(t){return s[2+parseInt(t[1])]}),new SyntaxError(e)}function s(t){return"string"==typeof t?t.toLowerCase():t}function o(t,e){t.forEach(e)}function a(t,e){if("constructor"===t)throw r("isecfld",'Referencing "constructor" field in Angular expressions is disallowed! Expression: {0}',e);return t}function u(t,e){if(t){if(t.constructor===t)throw r("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",e);if(t.document&&t.location&&t.alert&&t.setInterval)throw r("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",e);if(t.children&&(t.nodeName||t.prop&&t.attr&&t.find))throw r("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",e)}return t}function h(t,e,n,i){for(var r,s=e.split("."),o=0;s.length>1;o++){r=a(s.shift(),i);var u=t[r];u||(u={},t[r]=u),t=u}return r=a(s.shift(),i),t[r]=n,n}function c(t,e,n,i,r,s){return a(t,s),a(e,s),a(n,s),a(i,s),a(r,s),function(s,o){var a=o&&o.hasOwnProperty(t)?o:s;if(null==a)return a;if(a=a[t],!e)return a;if(null!=a){if(a=a[e],!n)return a;if(null!=a){if(a=a[n],!i)return a;if(null!=a){if(a=a[i],!r)return a;if(null!=a)return a=a[r]}}}}}function l(t,e){return a(t,e),function(e,n){return null!=e?(n&&n.hasOwnProperty(t)?n:e)[t]:void 0}}function f(t,e,n){return a(t,n),a(e,n),function(n,i){return null!=n?(n=(i&&i.hasOwnProperty(t)?i:n)[t],null==n?void 0:n[e]):void 0}}function p(t,e,n){if(m.hasOwnProperty(t))return m[t];var r,s=t.split("."),u=s.length;if(1===u)r=l(s[0],n);else if(2===u)r=f(s[0],s[1],n);else if(e.csp)r=6>u?c(s[0],s[1],s[2],s[3],s[4],n,e):function(t,i){var r,o=0;do r=c(s[o++],s[o++],s[o++],s[o++],s[o++],n,e)(t,i),i=void 0,t=r;while(u>o);return r};else{var h="var p;\n";o(s,function(t,e){a(t,n),h+="if(s == null) return undefined;\ns="+(e?"s":'((k&&k.hasOwnProperty("'+t+'"))?k:s)')+'["'+t+'"];\n'}),h+="return s;";var p=new Function("s","k","pw",h);p.toString=i(h),r=p}return"hasOwnProperty"!==t&&(m[t]=r),r}var d,x={"null":function(){return null},"true":function(){return!0},"false":function(){return!1},undefined:t,"+":function(t,e,i,r){return i=i(t,e),r=r(t,e),n(i)?n(r)?i+r:i:n(r)?r:void 0},"-":function(t,e,i,r){return i=i(t,e),r=r(t,e),(n(i)?i:0)-(n(r)?r:0)},"*":function(t,e,n,i){return n(t,e)*i(t,e)},"/":function(t,e,n,i){return n(t,e)/i(t,e)},"%":function(t,e,n,i){return n(t,e)%i(t,e)},"^":function(t,e,n,i){return n(t,e)^i(t,e)},"=":t,"===":function(t,e,n,i){return n(t,e)===i(t,e)},"!==":function(t,e,n,i){return n(t,e)!==i(t,e)},"==":function(t,e,n,i){return n(t,e)==i(t,e)},"!=":function(t,e,n,i){return n(t,e)!=i(t,e)},"<":function(t,e,n,i){return n(t,e)<i(t,e)},">":function(t,e,n,i){return n(t,e)>i(t,e)},"<=":function(t,e,n,i){return n(t,e)<=i(t,e)},">=":function(t,e,n,i){return n(t,e)>=i(t,e)},"&&":function(t,e,n,i){return n(t,e)&&i(t,e)},"||":function(t,e,n,i){return n(t,e)||i(t,e)},"&":function(t,e,n,i){return n(t,e)&i(t,e)},"|":function(t,e,n,i){return i(t,e)(t,e,n(t,e))},"!":function(t,e,n){return!n(t,e)}},v={n:"\n",f:"\f",r:"\r",t:"	",v:"\x0B","'":"'",'"':'"'},g=function(t){this.options=t};g.prototype={constructor:g,lex:function(t){this.text=t,this.index=0,this.ch=void 0,this.lastCh=":",this.tokens=[];for(var e,n=[];this.index<this.text.length;){if(this.ch=this.text.charAt(this.index),this.is("\"'"))this.readString(this.ch);else if(this.isNumber(this.ch)||this.is(".")&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(this.ch))this.readIdent(),this.was("{,")&&"{"===n[0]&&(e=this.tokens[this.tokens.length-1])&&(e.json=-1===e.text.indexOf("."));else if(this.is("(){}[].,;:?"))this.tokens.push({index:this.index,text:this.ch,json:this.was(":[,")&&this.is("{[")||this.is("}]:,")}),this.is("{[")&&n.unshift(this.ch),this.is("}]")&&n.shift(),this.index++;else{if(this.isWhitespace(this.ch)){this.index++;continue}var i=this.ch+this.peek(),r=i+this.peek(2),s=x[this.ch],o=x[i],a=x[r];a?(this.tokens.push({index:this.index,text:r,fn:a}),this.index+=3):o?(this.tokens.push({index:this.index,text:i,fn:o}),this.index+=2):s?(this.tokens.push({index:this.index,text:this.ch,fn:s,json:this.was("[,:")&&this.is("+-")}),this.index+=1):this.throwError("Unexpected next character ",this.index,this.index+1)}this.lastCh=this.ch}return this.tokens},is:function(t){return-1!==t.indexOf(this.ch)},was:function(t){return-1!==t.indexOf(this.lastCh)},peek:function(t){var e=t||1;return this.index+e<this.text.length?this.text.charAt(this.index+e):!1},isNumber:function(t){return t>="0"&&"9">=t},isWhitespace:function(t){return" "===t||"\r"===t||"	"===t||"\n"===t||"\x0B"===t||"Â "===t},isIdent:function(t){return t>="a"&&"z">=t||t>="A"&&"Z">=t||"_"===t||"$"===t},isExpOperator:function(t){return"-"===t||"+"===t||this.isNumber(t)},throwError:function(t,e,i){i=i||this.index;var s=n(e)?"s "+e+"-"+this.index+" ["+this.text.substring(e,i)+"]":" "+i;throw r("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",t,s,this.text)},readNumber:function(){for(var t="",e=this.index;this.index<this.text.length;){var n=s(this.text.charAt(this.index));if("."==n||this.isNumber(n))t+=n;else{var i=this.peek();if("e"==n&&this.isExpOperator(i))t+=n;else if(this.isExpOperator(n)&&i&&this.isNumber(i)&&"e"==t.charAt(t.length-1))t+=n;else{if(!this.isExpOperator(n)||i&&this.isNumber(i)||"e"!=t.charAt(t.length-1))break;this.throwError("Invalid exponent")}}this.index++}t=1*t,this.tokens.push({index:e,text:t,json:!0,fn:function(){return t}})},readIdent:function(){for(var t,n,i,r,s=this,o="",a=this.index;this.index<this.text.length&&(r=this.text.charAt(this.index),"."===r||this.isIdent(r)||this.isNumber(r));)"."===r&&(t=this.index),o+=r,this.index++;if(t)for(n=this.index;n<this.text.length;){if(r=this.text.charAt(n),"("===r){i=o.substr(t-a+1),o=o.substr(0,t-a),this.index=n;break}if(!this.isWhitespace(r))break;n++}var u={index:a,text:o};if(x.hasOwnProperty(o))u.fn=x[o],u.json=x[o];else{var c=p(o,this.options,this.text);u.fn=e(function(t,e){return c(t,e)},{assign:function(t,e){return h(t,o,e,s.text,s.options)}})}this.tokens.push(u),i&&(this.tokens.push({index:t,text:".",json:!1}),this.tokens.push({index:t+1,text:i,json:!1}))},readString:function(t){var e=this.index;this.index++;for(var n="",i=t,r=!1;this.index<this.text.length;){var s=this.text.charAt(this.index);if(i+=s,r){if("u"===s){var o=this.text.substring(this.index+1,this.index+5);o.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+o+"]"),this.index+=4,n+=String.fromCharCode(parseInt(o,16))}else{var a=v[s];n+=a?a:s}r=!1}else if("\\"===s)r=!0;else{if(s===t)return this.index++,void this.tokens.push({index:e,text:i,string:n,json:!0,fn:function(){return n}});n+=s}this.index++}this.throwError("Unterminated quote",e)}};var y=function(t,e,n){this.lexer=t,this.$filter=e,this.options=n};y.ZERO=function(){return 0},y.prototype={constructor:y,parse:function(t){this.text=t,this.tokens=this.lexer.lex(t);var e=this.statements();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),e.literal=!!e.literal,e.constant=!!e.constant,e},tokenize:function(t){return this.text=t,this.tokens=this.lexer.lex(t),this.tokens},primary:function k(){var k;if(this.expect("("))k=this.filterChain(),this.consume(")");else if(this.expect("["))k=this.arrayDeclaration();else if(this.expect("{"))k=this.object();else{var t=this.expect();k=t.fn,k||this.throwError("not a primary expression",t),t.json&&(k.constant=!0,k.literal=!0)}for(var e,n;e=this.expect("(","[",".");)"("===e.text?(k=this.functionCall(k,n),n=null):"["===e.text?(n=k,k=this.objectIndex(k)):"."===e.text?(n=k,k=this.fieldAccess(k)):this.throwError("IMPOSSIBLE");return k},throwError:function(t,e){throw r("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",e.text,t,e.index+1,this.text,this.text.substring(e.index))},peekToken:function(){if(0===this.tokens.length)throw r("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(t,e,n,i){if(this.tokens.length>0){var r=this.tokens[0],s=r.text;if(s===t||s===e||s===n||s===i||!t&&!e&&!n&&!i)return r}return!1},expect:function(t,e,n,i){var r=this.peek(t,e,n,i);return r?(this.tokens.shift(),r):!1},consume:function(t){this.expect(t)||this.throwError("is unexpected, expecting ["+t+"]",this.peek())},unaryFn:function(t,n){return e(function(e,i){return t(e,i,n)},{constant:n.constant})},ternaryFn:function(t,n,i){return e(function(e,r){return t(e,r)?n(e,r):i(e,r)},{constant:t.constant&&n.constant&&i.constant})},binaryFn:function(t,n,i){return e(function(e,r){return n(e,r,t,i)},{constant:t.constant&&i.constant})},statements:function w(){for(var w=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&w.push(this.filterChain()),!this.expect(";"))return 1===w.length?w[0]:function(t,e){for(var n,i=0;i<w.length;i++){var r=w[i];r&&(n=r(t,e))}return n}},filterChain:function(){for(var t,e=this.expression();;){if(!(t=this.expect("|")))return e;e=this.binaryFn(e,t.fn,this.filter())}},filter:function(){for(var t=this.expect(),e=this.$filter(t.text),n=[];;){if(!(t=this.expect(":"))){var i=function(t,i,r){for(var s=[r],o=0;o<n.length;o++)s.push(n[o](t,i));return e.apply(t,s)};return function(){return i}}n.push(this.expression())}},expression:function(){return this.assignment()},assignment:function(){var t,e,n=this.ternary();return(e=this.expect("="))?(n.assign||this.throwError("implies assignment but ["+this.text.substring(0,e.index)+"] can not be assigned to",e),t=this.ternary(),function(e,i){return n.assign(e,t(e,i),i)}):n},ternary:function(){var t,e,n=this.logicalOR();return(e=this.expect("?"))?(t=this.ternary(),(e=this.expect(":"))?this.ternaryFn(n,t,this.ternary()):void this.throwError("expected :",e)):n},logicalOR:function(){for(var t,e=this.logicalAND();;){if(!(t=this.expect("||")))return e;e=this.binaryFn(e,t.fn,this.logicalAND())}},logicalAND:function(){var t,e=this.equality();return(t=this.expect("&&"))&&(e=this.binaryFn(e,t.fn,this.logicalAND())),e},equality:function(){var t,e=this.relational();return(t=this.expect("==","!=","===","!=="))&&(e=this.binaryFn(e,t.fn,this.equality())),e},relational:function(){var t,e=this.additive();return(t=this.expect("<",">","<=",">="))&&(e=this.binaryFn(e,t.fn,this.relational())),e},additive:function(){for(var t,e=this.multiplicative();t=this.expect("+","-");)e=this.binaryFn(e,t.fn,this.multiplicative());return e},multiplicative:function(){for(var t,e=this.unary();t=this.expect("*","/","%");)e=this.binaryFn(e,t.fn,this.unary());return e},unary:function(){var t;return this.expect("+")?this.primary():(t=this.expect("-"))?this.binaryFn(y.ZERO,t.fn,this.unary()):(t=this.expect("!"))?this.unaryFn(t.fn,this.unary()):this.primary()},fieldAccess:function(t){var n=this,i=this.expect().text,r=p(i,this.options,this.text);return e(function(e,n,i){return r(i||t(e,n))},{assign:function(e,r,s){var o=t(e,s);return o||t.assign(e,o={},s),h(o,i,r,n.text,n.options)}})},objectIndex:function(t){var n=this,i=this.expression();return this.consume("]"),e(function(e,r){var s,o=t(e,r),a=i(e,r);if(o)return s=u(o[a],n.text)},{assign:function(e,r,s){var o=i(e,s),a=u(t(e,s),n.text);return a||t.assign(e,a=[],s),a[o]=r}})},functionCall:function(e,n){var i=[];if(")"!==this.peekToken().text)do i.push(this.expression());while(this.expect(","));this.consume(")");var r=this;return function(s,o){for(var a=[],h=n?n(s,o):s,c=0;c<i.length;c++)a.push(i[c](s,o));var l=e(s,o,h)||t;u(h,r.text),u(l,r.text);var f=l.apply?l.apply(h,a):l(a[0],a[1],a[2],a[3],a[4]);return u(f,r.text)}},arrayDeclaration:function(){var t=[],n=!0;if("]"!==this.peekToken().text)do{if(this.peek("]"))break;var i=this.expression();t.push(i),i.constant||(n=!1)}while(this.expect(","));return this.consume("]"),e(function(e,n){for(var i=[],r=0;r<t.length;r++)i.push(t[r](e,n));return i},{literal:!0,constant:n})},object:function(){var t=[],n=!0;if("}"!==this.peekToken().text)do{if(this.peek("}"))break;var i=this.expect(),r=i.string||i.text;this.consume(":");var s=this.expression();t.push({key:r,value:s}),s.constant||(n=!1)}while(this.expect(","));return this.consume("}"),e(function(e,n){for(var i={},r=0;r<t.length;r++){var s=t[r];i[s.key]=s.value(e,n)}return i},{literal:!0,constant:n})}};var m={};return d={Lexer:g,Parser:y}}),e.module("realm.riot.AngularModel",["realm.riot.Expressions"],function(t){var e,n=function(){function e(n){_classCallCheck(this,e),this.tag=n,this.path=n.opts.model,this.model=t.compile(this.path),this.root=this.tag.root;var i=this;this.tag.on("update",function(){i._onUpdate.bind(i)()}),this.tag.on("mount",function(){i._onMount.bind(i)()})}return _createClass(e,[{key:"getValue",value:function(){return this.model(this.tag.parent)}},{key:"assign",value:function(t){this.model.assign(this.tag.parent,t)}},{key:"onUpdate",value:function(t){this._onUpdate=t}},{key:"onMount",value:function(t){this._onMount=t}},{key:"notify",value:function(t){this.tag.parent.trigger("model-changed",this.path,t)}},{key:"attach",value:function(t){this.tag=t}}]),e}();return e=n}),e.module("realm.riot.Dispatcher",["utils.lodash","realm.riot.PushState"],function(t,e){var n,i,r=function(t){return"on"+t[0].toUpperCase()+t.slice(1,t.length)};document.querySelector("body").addEventListener("click",function(t){var n=t.target;"A"===n.nodeName&&n.getAttribute("href")&&(e.force({},n.getAttribute("href")),t.preventDefault(),t.stopPropagation())});var s=function(){function n(){_classCallCheck(this,n);var t=this;this.states={},this.urls=[],e.subscribe(function(){t.changed()})}return _createClass(n,[{key:"storeEssentials",value:function(e,n){return e.$$router?(t.each(n,function(t,n){e.$$router[n]=t}),e.$$router):(Object.defineProperty(e,"$$router",{enumerable:!1,value:n}),e.$$router)}},{key:"assign",value:function(t){i||(i=t),this.changed()}},{key:"getEssentials",value:function(t){return t.$$router||{}}},{key:"getPaths",value:function(){var t=window.location.pathname;return t.split("/")}},{key:"getFullURL",value:function(){return window.location.href}},{key:"register",value:function(e,n,i){for(var s=this,o=s.storeEssentials(i,{element:e}),a=o.index+1,u=this.paths[o.index+1],h=t.slice(this.paths,o.index+2);e.firstChild;)e.removeChild(e.firstChild);if(u){var c=i[r(u)];if(t.isFunction(c)){var l=this.evaluate(i,c,h),e=i.$$router.element;t.isPlainObject(l)?s.mount(e,l,!0):s.initializeRoute(e,l,a,h)}}}},{key:"changed",value:function(){var e=this;if(this.paths=this.getPaths(),!this.root)return e.urls=this.paths,this.createRoot();var n;if(t.each(this.paths,function(t,i){e.urls[i]!==t&&void 0===n&&(n=i)}),void 0===n&&e.paths.length!==e.urls.length&&(n=t.findLastIndex(this.paths)),n>-1){var i=e.states[n-1];if(void 0!==i&&i.$$router){var r=i.$$router;r.element&&r.data&&e.register(r.element,r.data.tag,r.data.parent)}}e.fullURL=e.getFullURL(),e.urls=this.paths}},{key:"initializeRoute",value:function(e,n,i,r){var s=this;s.storeEssentials(n,{index:i,dispatcher:s,element:e}),s.states[i]=n;var o=this.evaluate(n,n.initialize,r);if(o){var a=s.mount(e,o);if(a.nextElement){var u=i+1,h=t.slice(this.paths,u);a.result&&a.nextElement&&s.initializeRoute(a.nextElement,a.result,u,h)}}}},{key:"createRoot",value:function(){var t=this;this.root=new i,t.storeEssentials(this.root,{index:0,dispatcher:t}),t.states[0]=this.root;var e=this.evaluate(this.root,this.root.initialize);t.mount("body",e)}},{key:"mount",value:function(t,e,n){var i=this,r=riot.mount(t,e.tag,{route:e.parent}),s=r[0];if(!n){var o=s.root.querySelector("*[route]");o&&(e.parent.$$router.data=e,i.register(o,s,e.parent))}return{result:e.callback?e.callback.apply(e.parent,[s]):void 0,nextElement:o}}},{key:"evaluate",value:function(t,e,n){var i=(t.$$router.index,e.apply(t,n||[]));return i}}]),n}(),o=new s;return n=o}),e.module("realm.riot.Expressions",["realm.riot.AngularExpressionParser","utils.lodash"],function(t,e){function n(t){var e;if("string"!=typeof t)throw new TypeError("src must be a string, instead saw '"+("undefined"==typeof t?"undefined":_typeof(t))+"'");return n.cache?(e=n.cache[t],e||(e=n.cache[t]=c.parse(t)),e):c.parse(t)}function i(t){if("string"!=typeof t)throw new TypeError("src must be a string, instead saw '"+("undefined"==typeof t?"undefined":_typeof(t))+"'");var n,i=c.tokenize(t),r={},s=!1;for(var o in i){var a=i[o];e.isString(a.text)&&a.text.match(/[a-z0-9\.$]+/i)&&(s?n&&(a.string?n.str=a.string:(n.nested={},n.nested[a.text]={},n=n.nested[a.text]),s=!1):a.json||(n=r[a.text]={})),"["===a.text&&(s=!0)}return r}var r,s=t,o={},a=s.Lexer,u=s.Parser,h=new a({}),c=new u(h,function(t){return o[t]});return n.cache={},r={Lexer:a,Parser:u,extract:i,compile:n,filters:o}}),e.module("realm.riot.PushState",["realm.riot.Query","utils.lodash"],function(t,e){var n,i=[],r=function(){function n(){_classCallCheck(this,n)}return _createClass(n,null,[{key:"_createQueryString",value:function(t){var n=[];e.each(t,function(t,e){n.push(e+"="+encodeURI(t))});var i=n.join("&");return n.length>0&&(i="?"+i),i}},{key:"subscribe",value:function(t){i.push(t)}},{key:"changed",value:function(){e.each(i,function(t){t()})}},{key:"redirect",value:function(t){History.set(t)}},{key:"get",value:function(e){var n=t.get();return e?n[e]:n}},{key:"_changeState",value:function(t){var e={url:t};history.pushState(e,t,t),n.changed()}},{key:"force",value:function(t,e){this._changeState((e||window.location.pathname)+this._createQueryString(t))}},{key:"merge",value:function(n,i){if(e.isPlainObject(n)){var r=t.get(),s=e.merge(r,n),o=(i||window.location.pathname)+this._createQueryString(s);this._changeState(o)}}}]),n}();return window.onpopstate=function(t){r.changed()},n=r}),e.module("realm.riot.Query",[],function(){var t,e=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"get",value:function(){for(var t={},e=window.location.search.substring(1),n=e.split("&"),i=0;i<n.length;i++){var r=n[i].split("=");if("undefined"==typeof t[r[0]])r[0]&&(t[r[0]]=decodeURIComponent(r[1]));else if("string"==typeof t[r[0]]){var s=[t[r[0]],decodeURIComponent(r[1])];t[r[0]]=s}else t[r[0]].push(decodeURIComponent(r[1]))}return t}}]),t}();return t=e}),e.module("realm.riot.Router",["realm.riot.Dispatcher","utils.lodash"],function(t,e){var n,i=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"render",value:function(t,e){return{parent:this,type:"router",tag:t,callback:e}}}],[{key:"start",value:function(){t.assign(this)}}]),e}();return n=i}),e.module("utils.lodash",function(){return window._})}(function(t){var e="undefined"!=typeof exports;return{isNode:e,realm:e?require("realm-js"):window.realm}}()),function(t){var e=(t.isNode,t.realm);e.module("realm.tags.form.ui-checkbox",["realm.riot.AngularModel"],function(t){var e;return riot.tag2("ui-checkbox",'<input id="{$name}" type="checkbox"><label style="cursor:pointer" for="{$name}" if="{opts.label}">{opts.label}</label>',"","",function(e){var n=new t(this);this.$name="id_"+(new Date).getTime(),n.$update=!0,n.onUpdate(function(){var t=this.getValue();if(this.$update){var e=this.root.querySelector("input");e.checked=t}else this.notify(t)}),n.onMount(function(){var t=this,e=this.root.querySelector("input");e.addEventListener("click",function(){t.$update=!1,t.assign(this.checked),t.notify(this.checked)})})}),e}),e.module("realm.tags.form.ui-input",["realm.riot.AngularModel"],function(t){var e;return riot.tag2("ui-input",'<label if="{opts.label}">{opts.label}</label><input type="text" name="{opts.name}" placeholder="{opts.placeholder}">',"","",function(e){var n=new t(this);n.$update=!0,n.onUpdate(function(){var t=this.getValue();if(this.$update){var e=this.root.querySelector("input");e.value=void 0!==t?t:""}else this.notify(t)}),n.onMount(function(){var t=this,e=this.root.querySelector("input");e.addEventListener("keyup",function(e){t.$update=!1,t.assign(this.value),t.notify(this.value),13===e.keyCode&&t.tag.opts.enter&&t.tag.opts.enter.bind(t.tag.parent)()})})}),e}),e.module("realm.tags.form.ui-textarea",["realm.riot.AngularModel"],function(t){var e;return riot.tag2("ui-textarea",'<label if="{opts.title}">{opts.title}</label><textarea name="{opts.name}" placeholder="{opts.placeholder}"></textarea>',"","",function(t){var e=new Model(this);e.$update=!0,e.onUpdate(function(){var t=this.getValue();if(this.$update){var e=this.root.querySelector("textarea");e.value=void 0!==t?t:""}else this.notify(t)}),e.onMount(function(){var t=this,e=this.root.querySelector("textarea");e.addEventListener("keyup",function(){t.$update=!1,t.assign(this.value),t.notify(this.value)})})}),e})}(function(t){var e="undefined"!=typeof exports;return{isNode:e,realm:e?require("realm-js"):window.realm}}());